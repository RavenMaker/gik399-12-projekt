<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link js="script" src="javascript/frontend/index.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>

    <header id="main-header">
        <nav class="w-full bg-white shadow h-50%" id="main-nav">
            <ul class=" flex flex-row items-center justify-center text-1xl font-bold gap-3 max-w-7xl">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!--Body-->
    <body>
        <div class="w-auto border-gray-300" id="main-container">
            <section id="hero-section">
                <h1 class="text-5xl font-bold text-center ">Welcome to Movie Vault</h1>
                <p class=" font-bold text-center">Your personal movie database to store and manage your favorite films.</p>
            </section>

            <section class="text-center" id="main-section">
                <h2 class="text-2xl font-bold ">Add/Update Resource</h2>
            
                <form class="bg-white shadow rounded-xl p-6 flex flex-col gap-6 " id="movie-form">
                <div class="flex flex-row gap-8 justify-center">
                    <div class="flex flex-col gap-4">
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div>   
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div> 
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div> 
                    </div>

                    <div class="flex flex-col gap-4">
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div>   
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div> 
                      <div class="flex flex-col mb-2 gap-2">
                        <label class="font-medium text-start" for="movie-title ">Movie Title:</label>
                        <input class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" id="movie-title" name="movie-title" required>
                      </div> 
                    </div>
                    </div>  
                    <button class="self-center mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" type="submit">Add Movie</button>
                
               </form>
            </section>


        <section class="bg-purple-100 p-8" id="movieList">
            <h2 class="text-3xl font-bold text-center">Lista över resurser</h2>
                <div id="list" class="bg-white grid gap-4">
                    <div class="p-4 shadow rounden bg-grey flex justify-content">
                        visa databaslistan här. 
                    </div>
                </div>
                <button class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Ladda fler</button>

           </section>

        <footer id="footer">
                <p><i>Kurs: GIK339</i></p>
        </footer>
    </body>

</html>


<script>
      //knapp för att lägga till film
const addbtn = document.querySelector("#button");

addbtn.textContent = "Lägg till films";
addbtn.className="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600";

addbtn.addEventListener("click", () =>{
    const movtitel =document.querySelector("#titel").value; //hämtar värdet från input fältet med id titel
   
    if (!titel.trim()){
        alert ("Vänligen ange en titel");
        return;
    }
    //lägger till film i listan 
    console.log("Listan tillagd:", titel);
    // Skickar data till backend via fetch POST (skapa ny film) .inväntar från backend
    fetch("http://localhost:3000/resurs", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ title: movtitel })
    });

    console.log("Lägger till film");
    const titel= document.querySelector("#titel").value;
    document.querySelector("#titel").value=""; //tömmer input fältet efter submit
</script>